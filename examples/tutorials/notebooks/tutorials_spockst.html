<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Short-term scheduling &mdash; SPOCK 0.0.0 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/style.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/jupyter-sphinx.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/thebelab.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Plot with SPOCK" href="tutorials_spockplot.html" />
    <link rel="prev" title="Long-term scheduling" href="tutorials_spocklt.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> SPOCK
          </a>
              <div class="version">
                0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../content/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../content/installation.html#using-spock">Using <em>SPOCK</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../content/installation.html#upgrading">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../content/installation.html#more-details-on-spock">More details on <em>SPOCK</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../content/quick-ref.html">Quick reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SPOCKApp</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials_SPOCKApp.html">SPOCKApp, core programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials_SPOCKApp.html#SPOCKApp,-external-programs">SPOCKApp, external programs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples &amp; Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorials_spocklt.html">Long-term scheduling</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Short-term scheduling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#1--Special-target">1- Special target</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#For-a-special-observation-with-given-start/end-time">For a special observation with given start/end time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#For-a-special-target-that-you-wish-to-observe-as-much-as-possible">For a special target that you wish to observe as much as possible</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#2--Follow-up">2- Follow-up</a></li>
<li class="toctree-l2"><a class="reference internal" href="#3--Save-your-plans-and-night-blocks">3- Save your plans and night blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#4--Make-ACP-format-plans">4- Make ACP format plans</a></li>
<li class="toctree-l2"><a class="reference internal" href="#5--upload-your-plans-and--night_blocks--on-the-control-computers-and-archive">5- upload your plans and  <strong>night_blocks</strong>  on the control computers and archive</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials_spockplot.html">Plot with SPOCK</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials_spocktools.html">Useful tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How spock works ?</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="how.html">How <em>spock</em> works</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SPOCK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Short-term scheduling</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/examples/tutorials/notebooks/tutorials_spockst.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Short-term-scheduling">
<h1>Short-term scheduling<a class="headerlink" href="#Short-term-scheduling" title="Permalink to this heading"></a></h1>
<p>Here we present the short-term scheduling module. The short-term scheduling module of spock has been concived to modify existing plan in order to add special or follow up observations, like transits or monitoring for instance.</p>
<div class="admonition note">
<p><strong>Note:</strong> Before you insert new observations and upload them please make sure you have informed the SPECULOOS consortium</p>
</div>
<div class="section" id="1--Special-target">
<h2>1- Special target<a class="headerlink" href="#1--Special-target" title="Permalink to this heading"></a></h2>
<div class="admonition warning">
<p><strong>WARNING:</strong> First of all, users must ensure that they have entered requiered information of the target they wish to schedule in the <strong>WG6 spread sheet</strong>. Either under the tab <code class="docutils literal notranslate"><span class="pre">Annex_Targets_V2-STARS</span></code> for a external program observation without specific ephemeris or the tab <code class="docutils literal notranslate"><span class="pre">Annex_Targets_V1-PLANETS</span></code> if ephemeris (mostly transits) are required.</p>
</div>
<div class="section" id="For-a-special-observation-with-given-start/end-time">
<h3>For a special observation with given start/end time<a class="headerlink" href="#For-a-special-observation-with-given-start/end-time" title="Permalink to this heading"></a></h3>
<p>Here is the existing <strong>night_blocks</strong> for a given <code class="docutils literal notranslate"><span class="pre">date</span></code> and a given <code class="docutils literal notranslate"><span class="pre">telescope</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">SPOCK.stats</span> <span class="k">as</span> <span class="nn">SPOCKstats</span>

<span class="n">SPOCKstats</span><span class="o">.</span><span class="n">read_night_plans_server</span><span class="p">(</span><span class="n">telescope</span><span class="o">=</span><span class="s1">&#39;Io&#39;</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="s1">&#39;2021-08-01&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>target</th>
      <th>start time (UTC)</th>
      <th>end time (UTC)</th>
      <th>duration (minutes)</th>
      <th>ra (h)</th>
      <th>ra (m)</th>
      <th>ra (s)</th>
      <th>dec (d)</th>
      <th>dec (m)</th>
      <th>dec (s)</th>
      <th>configuration</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Sp1845-6357</td>
      <td>2021-08-01 22:56:20.017</td>
      <td>2021-08-02 04:44:00.017</td>
      <td>347.666667</td>
      <td>18.0</td>
      <td>45.0</td>
      <td>8.66448</td>
      <td>-63.0</td>
      <td>-57.0</td>
      <td>-47.4624</td>
      <td>{'filt': 'i', 'texp': '20'}</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Sp2331-2749</td>
      <td>2021-08-02 04:44:20.017</td>
      <td>2021-08-02 10:40:00.017</td>
      <td>355.666667</td>
      <td>23.0</td>
      <td>31.0</td>
      <td>21.75288</td>
      <td>-27.0</td>
      <td>-49.0</td>
      <td>-49.6056</td>
      <td>{'filt': 'I+z', 'texp': '28'}</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>First you want to create the <strong>night_blocks</strong> . The only esstial information are:</p>
<ul class="simple">
<li><p>the name of the site, ex: <code class="docutils literal notranslate"><span class="pre">obs_name</span> <span class="pre">=</span> <span class="pre">'SSO'</span></code></p></li>
<li><p>the name of the telescope (because there can be several telescope per site), ex: <code class="docutils literal notranslate"><span class="pre">telescope</span> <span class="pre">='Europa'</span></code></p></li>
<li><p>the date the night starts, ex: <code class="docutils literal notranslate"><span class="pre">day_of_night</span> <span class="pre">='2020-12-12</span> <span class="pre">15:00:00'</span></code></p></li>
<li><p>and the name of your target, <code class="docutils literal notranslate"><span class="pre">input_name</span> <span class="pre">=</span> <span class="pre">'Trappist-1'</span></code></p></li>
<li><p>start and end time in a list, ex: <code class="docutils literal notranslate"><span class="pre">start_end_range</span> <span class="pre">=</span> <span class="pre">['2020-12-12</span> <span class="pre">23:00:00','2020-12-13</span> <span class="pre">01:00:00']</span></code></p></li>
</ul>
<p>NB: you must first have filled info on the target on the WG6 spread sheet beforehand</p>
<p>This is the block you wish to insert:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">SPOCK.short_term_scheduler</span> <span class="k">as</span> <span class="nn">SPOCKST</span>
<span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>

<span class="n">schedule</span> <span class="o">=</span> <span class="n">SPOCKST</span><span class="o">.</span><span class="n">Schedules</span><span class="p">()</span>

<span class="n">schedule</span><span class="o">.</span><span class="n">load_parameters</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">day_of_night</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="s1">&#39;2021-08-01 15:00:00&#39;</span><span class="p">)</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">observatory_name</span> <span class="o">=</span> <span class="s1">&#39;SSO&#39;</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">telescope</span> <span class="o">=</span> <span class="s1">&#39;Io&#39;</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">start_end_range</span> <span class="o">=</span> <span class="n">Time</span><span class="p">([</span><span class="s1">&#39;2021-08-02 04:00:00&#39;</span><span class="p">,</span><span class="s1">&#39;2021-08-02 08:00:00&#39;</span><span class="p">])</span>

<span class="n">schedule</span><span class="o">.</span><span class="n">special_target_with_start_end</span><span class="p">(</span><span class="n">input_name</span><span class="o">=</span><span class="s2">&quot;Nemesis-5&quot;</span><span class="p">)</span>
<br/><br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> Not using moon phase in ETC
</span>
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<i>Table length=1</i>
<table id="table5013818224" class="table-striped table-bordered table-condensed">
<thead><tr><th>target</th><th>start time (UTC)</th><th>end time (UTC)</th><th>duration (minutes)</th><th>ra (h)</th><th>ra (m)</th><th>ra (s)</th><th>dec (d)</th><th>dec (m)</th><th>dec (s)</th><th>configuration</th></tr></thead>
<thead><tr><th>str9</th><th>str23</th><th>str23</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th></tr></thead>
<tr><td>Nemesis-5</td><td>2021-08-02 04:00:00.029</td><td>2021-08-02 08:00:00.029</td><td>239.99999999999994</td><td>23.0</td><td>48.0</td><td>47.59920000001159</td><td>-7.0</td><td>-51.0</td><td>-48.66840000000053</td><td>{&apos;filt&apos;: &apos;I+z&apos;, &apos;texp&apos;: &apos;59&apos;}</td></tr>
</table></div>
</div>
<p>Now you modify existing plan to insert your observation block:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">schedule</span><span class="o">.</span><span class="n">make_scheduled_table</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">planification</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">make_night_block</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> Local path does not exist yet
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> situation 9
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> situation 2
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> no transition block</span>
</pre></div></div>
</div>
<p>Here is how the modified <strong>|night blocks|</strong> looks like:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">scheduled_table_sorted</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<i>Table length=3</i>
<table id="table4956712352" class="table-striped table-bordered table-condensed">
<thead><tr><th>target</th><th>start time (UTC)</th><th>end time (UTC)</th><th>duration (minutes)</th><th>ra (h)</th><th>ra (m)</th><th>ra (s)</th><th>dec (d)</th><th>dec (m)</th><th>dec (s)</th><th>configuration</th></tr></thead>
<thead><tr><th>str11</th><th>str23</th><th>str23</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th></tr></thead>
<tr><td>Sp1845-6357</td><td>2021-08-01 22:56:20.017</td><td>2021-08-02 04:00:00.029</td><td>303.6668666666665</td><td>18.0</td><td>45.0</td><td>8.664480000022934</td><td>-63.0</td><td>-57.0</td><td>-47.46239999999375</td><td>{&apos;filt&apos;: &apos;i&apos;, &apos;texp&apos;: &apos;20&apos;}</td></tr>
<tr><td>Nemesis-5</td><td>2021-08-02 04:00:00.029</td><td>2021-08-02 08:00:00.029</td><td>239.99999999999994</td><td>23.0</td><td>48.0</td><td>47.59920000001159</td><td>-7.0</td><td>-51.0</td><td>-48.66840000000053</td><td>{&apos;filt&apos;: &apos;I+z&apos;, &apos;texp&apos;: &apos;59&apos;}</td></tr>
<tr><td>Sp2331-2749</td><td>2021-08-02 08:00:00.029</td><td>2021-08-02 10:40:00.017</td><td>159.9998</td><td>23.0</td><td>31.0</td><td>21.752880000023254</td><td>-27.0</td><td>-49.0</td><td>-49.60559999999447</td><td>{&apos;filt&apos;: &apos;I+z&apos;, &apos;texp&apos;: &apos;28&apos;}</td></tr>
</table></div>
</div>
</div>
<div class="section" id="For-a-special-target-that-you-wish-to-observe-as-much-as-possible">
<h3>For a special target that you wish to observe as much as possible<a class="headerlink" href="#For-a-special-target-that-you-wish-to-observe-as-much-as-possible" title="Permalink to this heading"></a></h3>
<p>Here is the existing <strong>|night blocks|</strong> for a given <code class="docutils literal notranslate"><span class="pre">date</span></code> and a given <code class="docutils literal notranslate"><span class="pre">telescope</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">SPOCK.stats</span> <span class="k">as</span> <span class="nn">SPOCKstats</span>

<span class="n">SPOCKstats</span><span class="o">.</span><span class="n">read_night_plans_server</span><span class="p">(</span><span class="n">telescope</span><span class="o">=</span><span class="s1">&#39;Artemis&#39;</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="s1">&#39;2020-12-10&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>target</th>
      <th>start time (UTC)</th>
      <th>end time (UTC)</th>
      <th>duration (minutes)</th>
      <th>ra (h)</th>
      <th>ra (m)</th>
      <th>ra (s)</th>
      <th>dec (d)</th>
      <th>dec (m)</th>
      <th>dec (s)</th>
      <th>configuration</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NGTS-11</td>
      <td>2020-12-10 19:05:40.009</td>
      <td>2020-12-11 00:49:00.009</td>
      <td>343.333333</td>
      <td>1.0</td>
      <td>34.0</td>
      <td>5.148000</td>
      <td>-14.0</td>
      <td>-25.0</td>
      <td>-8.93640</td>
      <td>{'filt=g', 'texp=10'}</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Sp0840+1824</td>
      <td>2020-12-11 00:49:00.009</td>
      <td>2020-12-11 06:53:20.009</td>
      <td>364.333333</td>
      <td>8.0</td>
      <td>40.0</td>
      <td>29.634552</td>
      <td>18.0</td>
      <td>24.0</td>
      <td>8.72676</td>
      <td>{'texp=26', 'filt=I+z'}</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>First you want to create the <strong>night_blocks</strong> . The only essential information needed are:</p>
<ul class="simple">
<li><p>the name of the site, ex: <code class="docutils literal notranslate"><span class="pre">obs_name</span> <span class="pre">=</span> <span class="pre">'SSO'</span></code></p></li>
<li><p>the name of the telescope (because there can be several telescope per site), ex: <code class="docutils literal notranslate"><span class="pre">telescope</span> <span class="pre">=</span> <span class="pre">'Europa'</span></code></p></li>
<li><p>the date the night starts, ex: <code class="docutils literal notranslate"><span class="pre">day_of</span> <span class="pre">_night</span> <span class="pre">=</span> <span class="pre">'2020-12-12</span> <span class="pre">15:00:00'</span></code></p></li>
<li><p>and the name of your target, <code class="docutils literal notranslate"><span class="pre">input_name</span> <span class="pre">=</span> <span class="pre">'Trappist-1'</span></code></p></li>
</ul>
<p>NB: you must first have filled info on the target in <em>target_list_special.txt</em> beforehand</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">SPOCK.short_term_scheduler</span> <span class="k">as</span> <span class="nn">SPOCKST</span>
<span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>

<span class="n">schedule</span> <span class="o">=</span> <span class="n">SPOCKST</span><span class="o">.</span><span class="n">Schedules</span><span class="p">()</span>

<span class="n">schedule</span><span class="o">.</span><span class="n">load_parameters</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">day_of_night</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="s1">&#39;2020-12-10 15:00:00&#39;</span><span class="p">)</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">observatory_name</span> <span class="o">=</span> <span class="s1">&#39;SNO&#39;</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">telescope</span> <span class="o">=</span> <span class="s1">&#39;Artemis&#39;</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">special_target</span><span class="p">(</span><span class="n">input_name</span><span class="o">=</span><span class="s2">&quot;WASP-85Ab&quot;</span><span class="p">)</span>
<br/><br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<i>Table length=1</i>
<table id="table4979824008" class="table-striped table-bordered table-condensed">
<thead><tr><th>target</th><th>start time (UTC)</th><th>end time (UTC)</th><th>duration (minutes)</th><th>ra (h)</th><th>ra (m)</th><th>ra (s)</th><th>dec (d)</th><th>dec (m)</th><th>dec (s)</th><th>configuration</th></tr></thead>
<thead><tr><th>str9</th><th>str23</th><th>str23</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th></tr></thead>
<tr><td>WASP-85Ab</td><td>2020-12-11 03:09:40.027</td><td>2020-12-11 07:08:00.027</td><td>238.3333333333334</td><td>11.0</td><td>43.0</td><td>38.00820000000698</td><td>6.0</td><td>33.0</td><td>49.45220639999988</td><td>{&apos;filt&apos;: &quot;g&apos;&quot;, &apos;texp&apos;: &apos;10&apos;}</td></tr>
</table></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">schedule</span><span class="o">.</span><span class="n">make_scheduled_table</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">planification</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">make_night_block</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> Local path does not exist yet
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> situation 7
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> situation 10, no change made to initial schedule
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> situation 7
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> no transition block</span>
</pre></div></div>
</div>
<p>Here is how the modified <strong>night_blocks</strong> looks like:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">scheduled_table_sorted</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<i>Table length=3</i>
<table id="table4956650912" class="table-striped table-bordered table-condensed">
<thead><tr><th>target</th><th>start time (UTC)</th><th>end time (UTC)</th><th>duration (minutes)</th><th>ra (h)</th><th>ra (m)</th><th>ra (s)</th><th>dec (d)</th><th>dec (m)</th><th>dec (s)</th><th>configuration</th></tr></thead>
<thead><tr><th>str11</th><th>str23</th><th>str23</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th></tr></thead>
<tr><td>NGTS-11</td><td>2020-12-10 19:05:40.009</td><td>2020-12-11 03:09:40.027</td><td>484.00029999999987</td><td>1.0</td><td>34.0</td><td>5.148000000001645</td><td>-14.0</td><td>-25.0</td><td>-8.93639999999678</td><td>{&apos;filt=g&apos;, &apos;texp=10&apos;}</td></tr>
<tr><td>Sp0840+1824</td><td>2020-12-11 00:49:00.009</td><td>2020-12-11 03:09:40.027</td><td>140.66696666666675</td><td>8.0</td><td>40.0</td><td>29.634552000006664</td><td>18.0</td><td>24.0</td><td>8.726760000003821</td><td>{&apos;texp=26&apos;, &apos;filt=I+z&apos;}</td></tr>
<tr><td>WASP-85Ab</td><td>2020-12-11 03:09:40.027</td><td>2020-12-11 07:07:41.682</td><td>238.0275833333333</td><td>11.0</td><td>43.0</td><td>38.00820000000698</td><td>6.0</td><td>33.0</td><td>49.45220639999988</td><td>{&apos;filt&apos;: &quot;g&apos;&quot;, &apos;texp&apos;: &apos;10&apos;}</td></tr>
</table></div>
</div>
</div>
</div>
<div class="section" id="2--Follow-up">
<h2>2- Follow-up<a class="headerlink" href="#2--Follow-up" title="Permalink to this heading"></a></h2>
<p>Here is the existing <strong>night_blocks</strong> for a given <code class="docutils literal notranslate"><span class="pre">date</span></code> and a given <code class="docutils literal notranslate"><span class="pre">telescope</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">SPOCK.stats</span> <span class="k">as</span> <span class="nn">SPOCKstats</span>

<span class="n">SPOCKstats</span><span class="o">.</span><span class="n">read_night_plans_server</span><span class="p">(</span><span class="n">telescope</span><span class="o">=</span><span class="s1">&#39;Artemis&#39;</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="s1">&#39;2020-09-15&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>target</th>
      <th>start time (UTC)</th>
      <th>end time (UTC)</th>
      <th>duration (minutes)</th>
      <th>ra (h)</th>
      <th>ra (m)</th>
      <th>ra (s)</th>
      <th>dec (d)</th>
      <th>dec (m)</th>
      <th>dec (s)</th>
      <th>configuration</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Sp0008+4918</td>
      <td>2020-09-15 20:02:00.010</td>
      <td>2020-09-16 06:00:40.010</td>
      <td>598.666667</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>55.36284</td>
      <td>49.0</td>
      <td>18.0</td>
      <td>56.3202</td>
      <td>{'filt=I+z', 'texp=20'}</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">SPOCK.short_term_scheduler</span> <span class="k">as</span> <span class="nn">SPOCKST</span>
<span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>

<span class="n">schedule</span> <span class="o">=</span> <span class="n">SPOCKST</span><span class="o">.</span><span class="n">Schedules</span><span class="p">()</span>

<span class="n">schedule</span><span class="o">.</span><span class="n">load_parameters</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">day_of_night</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="s1">&#39;2020-09-15 15:00:00&#39;</span><span class="p">)</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">observatory_name</span> <span class="o">=</span> <span class="s1">&#39;SNO&#39;</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">telescope</span> <span class="o">=</span> <span class="s1">&#39;Artemis&#39;</span>

<span class="n">schedule</span><span class="o">.</span><span class="n">transit_follow_up</span><span class="p">(</span><span class="n">input_name</span><span class="o">=</span><span class="s2">&quot;Trappist-1b&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> </span><span class="ansi-black-fg">Trappist-1b next transit:  [&#39;2020-09-15 21:05:27.228&#39;]

</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> start_transit of  Trappist-1b  :  2020-09-15 20:47:17.958
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> </span><span class="ansi-black-fg"> end_transit of  Trappist-1b  :  2020-09-15 21:23:36.498
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> </span><span class="ansi-black-fg"> Transit is expected to be full.</span>
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<i>Table length=1</i>
<table id="table4946143440" class="table-striped table-bordered table-condensed">
<thead><tr><th>target</th><th>start time (UTC)</th><th>end time (UTC)</th><th>duration (minutes)</th><th>ra (h)</th><th>ra (m)</th><th>ra (s)</th><th>dec (d)</th><th>dec (m)</th><th>dec (s)</th><th>configuration</th></tr></thead>
<thead><tr><th>str11</th><th>str23</th><th>str23</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th></tr></thead>
<tr><td>Trappist-1b</td><td>2020-09-15 20:40:20.012</td><td>2020-09-15 22:21:00.012</td><td>100.66666666666669</td><td>23.0</td><td>6.0</td><td>28.999920000019017</td><td>-5.0</td><td>-2.0</td><td>-27.99996000000064</td><td>{&apos;filt&apos;: &apos;I+z&apos;, &apos;texp&apos;: &apos;23&apos;}</td></tr>
</table></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">schedule</span><span class="o">.</span><span class="n">make_scheduled_table</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">planification</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">make_night_block</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> Local path does not exist yet
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> situation 6
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> no transition block</span>
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">scheduled_table_sorted</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<i>Table length=3</i>
<table id="table4953922696" class="table-striped table-bordered table-condensed">
<thead><tr><th>target</th><th>start time (UTC)</th><th>end time (UTC)</th><th>duration (minutes)</th><th>ra (h)</th><th>ra (m)</th><th>ra (s)</th><th>dec (d)</th><th>dec (m)</th><th>dec (s)</th><th>configuration</th></tr></thead>
<thead><tr><th>str13</th><th>str23</th><th>str23</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th></tr></thead>
<tr><td>Sp0008+4918</td><td>2020-09-15 20:02:00.010</td><td>2020-09-15 20:40:20.012</td><td>38.333366666666834</td><td>0.0</td><td>8.0</td><td>55.362840000000055</td><td>49.0</td><td>18.0</td><td>56.32019999999159</td><td>{&apos;filt=I+z&apos;, &apos;texp=20&apos;}</td></tr>
<tr><td>Trappist-1b</td><td>2020-09-15 20:40:20.012</td><td>2020-09-15 22:21:00.012</td><td>100.66666666666669</td><td>23.0</td><td>6.0</td><td>28.999920000019017</td><td>-5.0</td><td>-2.0</td><td>-27.99996000000064</td><td>{&apos;filt&apos;: &apos;I+z&apos;, &apos;texp&apos;: &apos;23&apos;}</td></tr>
<tr><td>Sp0008+4918_2</td><td>2020-09-15 22:21:00.012</td><td>2020-09-16 06:00:40.010</td><td>459.66663333333315</td><td>0.0</td><td>8.0</td><td>55.362840000000055</td><td>49.0</td><td>18.0</td><td>56.32019999999159</td><td>{&apos;filt=I+z&apos;, &apos;texp=20&apos;}</td></tr>
</table></div>
</div>
</div>
<div class="section" id="3--Save-your-plans-and-night-blocks">
<h2>3- Save your plans and night blocks<a class="headerlink" href="#3--Save-your-plans-and-night-blocks" title="Permalink to this heading"></a></h2>
<p>If you are satisfied with this modified <strong>night_blocks</strong> you can save it. Executing this cell will upadate your local spock database. The <strong>night_blocks</strong> will be saved in <code class="docutils literal notranslate"><span class="pre">your_spock_path</span> <span class="pre">+</span> <span class="pre">&quot;/DATABASE/telescope/Archive_night_blocks/&quot;</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">schedule</span> <span class="o">=</span> <span class="n">SPOCKST</span><span class="o">.</span><span class="n">Schedules</span><span class="p">()</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">day_of_night</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="s1">&#39;2021-08-01 15:00:00&#39;</span><span class="p">)</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">telescope</span> <span class="o">=</span> <span class="s1">&#39;Io&#39;</span>

<span class="n">SPOCKST</span><span class="o">.</span><span class="n">save_schedule</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">over_write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">day</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">day_of_night</span><span class="p">,</span><span class="n">telescope</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">telescope</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-green-fg">INFO:  </span><span class="ansi-black-fg">&#34;/Users/elsaducrot/spock_2/night_blocks_propositions/night_blocks_Io_2021-08-01.txt&#34; has been over-written to &#34;/Users/elsaducrot/spock_2/DATABASE/Io/&#34;</span>
</pre></div></div>
</div>
<p>Now that you have saved the night block it’s time to create the ACP plans to send to the control PC of the corresonding telescope. To do so you just have to execute the cell below with the following information:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">day</span></code>, start date you wish to make ACP plans for</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nb_days</span></code>, number of days you wish to make plan for (starting at the date define in <code class="docutils literal notranslate"><span class="pre">day</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">telescope</span></code>, name of the telescope at sake</p></li>
</ul>
<p>ACP plans will be saved in <code class="docutils literal notranslate"><span class="pre">your_spock_path</span> <span class="pre">+</span> <span class="pre">&quot;/DATABASE/telescope/Plans_by_date/&quot;</span></code></p>
</div>
<div class="section" id="4--Make-ACP-format-plans">
<h2>4- Make ACP format plans<a class="headerlink" href="#4--Make-ACP-format-plans" title="Permalink to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">SPOCKST</span><span class="o">.</span><span class="n">make_plans</span><span class="p">(</span><span class="n">day</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">day_of_night</span><span class="p">,</span><span class="n">nb_days</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">telescope</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">telescope</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> Path exists and is:  /Users/elsaducrot/spock_2/DATABASE/Io/night_blocks_Io_2021-08-01.txt
</span><span class="ansi-yellow-fg">WARNING: </span><span class="ansi-black-fg"> not possible at that time because of altitude constraint, adding 20 degrees altitude
</span>
</pre></div></div>
</div>
<p>Now you can upload these ACP plans and <strong>night_blocks</strong> to the <a class="reference external" href="http://www.mrao.cam.ac.uk/SPECULOOS/">Cambridge Archive</a> as well as the plans sent to the control PCs. You will just need to provide :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">day</span></code>, start date you for which you wish to upload plans and <strong>night_blocks</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nb_days</span></code>, number of days you wish to upload (starting at the date define in <code class="docutils literal notranslate"><span class="pre">day</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">telescope</span></code>, name of the telescope at sake</p></li>
</ul>
</div>
<div class="section" id="5--upload-your-plans-and--night_blocks--on-the-control-computers-and-archive">
<h2>5- upload your plans and  <strong>night_blocks</strong>  on the control computers and archive<a class="headerlink" href="#5--upload-your-plans-and--night_blocks--on-the-control-computers-and-archive" title="Permalink to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">SPOCKST</span><span class="o">.</span><span class="n">upload_plans</span><span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">day_of_night</span><span class="p">,</span> <span class="n">nb_days</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">telescope</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">telescope</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-----&gt; 2021-08-01 Plans uploaded on the Cambridge server
-----&gt; 2021-08-01 Night plans uploaded on the Cambridge server
-----&gt; 2021-08-01 Zip Plans_by_dates folder uploaded on the Cambridge server
-----&gt; 2021-08-01 Zip Plans_by_dates folder uploaded on the HUB for Io
<span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> Path local &#39;Gant chart&#39; =  /Users/elsaducrot/spock_2/SPOCK_Figures/Preview_schedule.html
</span><span class="ansi-green-fg">INFO: </span><span class="ansi-black-fg"> Path database = &#39;Gant chart&#39; =  speculoos@appcs.ra.phy.cam.ac.uk:/appct/data/SPECULOOSPipeline/Preview_schedule.html</span>
</pre></div></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorials_spocklt.html" class="btn btn-neutral float-left" title="Long-term scheduling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorials_spockplot.html" class="btn btn-neutral float-right" title="Plot with SPOCK" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Elsa Ducrot.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>